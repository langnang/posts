---
layout: fluid
---

<div class="container-fluid" id="app" data-wrapper="cheatsheet">
  <div class="row row-cols-1">
    <div class="col px-2" v-html="articlePre"></div>
  </div>
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4" data-masonry='{ "itemSelector": ".col"}'>
    <div class="col my-1 px-1" v-for="item in articleText" :key="item">
      <div class="card">
        <div class="card">
          <div class="card-body px-2 py-2" v-html="'<h2'+item">

          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<script src="https://www.unpkg.com/axios@1.6.8/dist/axios.min.js"></script>
<script src="https://www.unpkg.com/vue@2.7.16/dist/vue.min.js"></script>
<script src="https://www.unpkg.com/lazyload"></script>
<script src="https://www.unpkg.com/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"></script>
<script>
  const app = new Vue({
    el: "#app",
    data: {
      fetch: {
      },
      form: {
        data: {
          title: "",
        },
      },
      table: {
        data: [{
          "title": "0",
          "slug": "solid-0",
          "type": "svg",
          "relativePath": "/lib/@fortawesome/fontawesome-free/6.5.1/svgs/solid/0.svg",
          "metas": [
            "fontawesome",
            "fontawesome-free",
            "solid"
          ]
        },
        {
          "title": "1",
          "slug": "solid-1",
          "type": "svg",
          "relativePath": "/lib/@fortawesome/fontawesome-free/6.5.1/svgs/solid/1.svg",
          "metas": [
            "fontawesome",
            "fontawesome-free",
            "solid"
          ]
        },
        {
          "title": "2",
          "slug": "solid-2",
          "type": "svg",
          "relativePath": "/lib/@fortawesome/fontawesome-free/6.5.1/svgs/solid/2.svg",
          "metas": [
            "fontawesome",
            "fontawesome-free",
            "solid"
          ]
        },
        {
          "title": "3",
          "slug": "solid-3",
          "type": "svg",
          "relativePath": "/lib/@fortawesome/fontawesome-free/6.5.1/svgs/solid/3.svg",
          "metas": [
            "fontawesome",
            "fontawesome-free",
            "solid"
          ]
        },
        {
          "title": "4",
          "slug": "solid-4",
          "type": "svg",
          "relativePath": "/lib/@fortawesome/fontawesome-free/6.5.1/svgs/solid/4.svg",
          "metas": [
            "fontawesome",
            "fontawesome-free",
            "solid"
          ]
        },
        {
          "title": "5",
          "slug": "solid-5",
          "type": "svg",
          "relativePath": "/lib/@fortawesome/fontawesome-free/6.5.1/svgs/solid/5.svg",
          "metas": [
            "fontawesome",
            "fontawesome-free",
            "solid"
          ]
        },
        {
          "title": "6",
          "slug": "solid-6",
          "type": "svg",
          "relativePath": "/lib/@fortawesome/fontawesome-free/6.5.1/svgs/solid/6.svg",
          "metas": [
            "fontawesome",
            "fontawesome-free",
            "solid"
          ]
        },
        {
          "title": "7",
          "slug": "solid-7",
          "type": "svg",
          "relativePath": "/lib/@fortawesome/fontawesome-free/6.5.1/svgs/solid/7.svg",
          "metas": [
            "fontawesome",
            "fontawesome-free",
            "solid"
          ]
        },],
        page: 1,
        size: 60,
        total: 0
      },
      article: {
        data: {
          html: `{{content}}`
        }
      }
    },
    computed: {
      tableData() {
        return this.table.data.filter(v => v.title.indexOf(this.form.data.title) > -1)
      },
      tableCurrentData() {
        const start = (this.table.page - 1) * this.table.size;
        return this.tableData.slice(start, start + this.table.size)
      },
      tableMaxPage() {
        return this.table.total % this.table.size != 0 ? Math.floor(this.table.total / this.table.size) + 1 : Math.floor(this.table.total / this.table.size)
      },
      tablePagination() {
        const minPage = 1
        const maxPage = this.tableMaxPage;
        return [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5].map(v => v + this.table.page).reduce((t, v) => v >= minPage && v <= maxPage ? [...t, v] : t, [])
      },
      articleText() {
        return this.article.data.html.split("<h2").slice(1)
      },
      articlePre() {
        return this.article.data.html.split("<h2")[0]
      },
      articleTitle() {
        return this.article.data.html.split("</h1")[0].split(">")[1]
      }
    },
    created() {
      // this.fetchData();
      // console.log(this.articleTitle)
    },
    mounted() {
      lazyload();
      // Masonry({})
      // new Masonry(".row", {
      //   // options...
      //   itemSelector: '.col-4',
      // });
    },
    updated() {
      lazyload();
      // new Masonry(".row", {
      //   // options...
      //   itemSelector: '.col-4',
      // });
    },
    methods: {
      fetchData() {
        axios.get("{{ page.icon.json }}").then(res => {
          this.fetch = res.data;
          const { contents } = res.data;
          this.table.data = contents;
          this.table.total = contents.length;
        })
      },
      handleTableSizePage() {

      },
      handleTableCurrentPage(val) {
        if (val == 'first') val = 1
        else if (val == '-1') val = this.table.page - 1 > 0 ? this.table.page - 1 : this.table.page;
        else if (val == '+1') val = this.table.page + 1 > this.tableMaxPage ? this.tableMaxPage : this.table.page + 1;
        else if (val == 'last') val = this.tableMaxPage;
        this.table.page = val;
      }
    }
  })
</script>